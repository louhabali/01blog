<!-- Updated header.component.html -->
<mat-toolbar color="primary" class="header">
<div class="logo" routerLink="/"><span class="logo-text">01BLOG</span></div>


<div class="search-container" *ngIf="!isMobile">
<mat-form-field style="width: 80%;" class="search-form-field" appearance="outline">
<mat-icon matPrefix>search</mat-icon>
<input type="text" placeholder="Search users..." aria-label="Search users" matInput [(ngModel)]="userSearchTerm" (ngModelChange)="search(userSearchTerm)" [matAutocomplete]="auto" />
<mat-autocomplete #auto="matAutocomplete">
<mat-option *ngFor="let user of filteredUsers" [value]="user.username" (click)="onUserSelected(user)">
<div class="user-suggestion">
<img [src]="user.avatar || 'default-avatar.png'" alt="{{user.username}}" class="user-avatar-suggestion" />
<div class="user-info-suggestion">
<span class="username-suggestion">{{ user.username }}</span>
<span class="user-status-suggestion">View Profile</span>
</div>
</div>
</mat-option>
</mat-autocomplete>
</mat-form-field>
</div>


<span class="spacer"></span>


<nav class="nav-links" *ngIf="!isMobile">
<a mat-button class="nav-link-item" routerLink="/home"><mat-icon>home</mat-icon><span>Home</span></a>
<ng-container *ngIf="!auth.isLoggedIn()">
<a mat-button class="nav-link-item" routerLink="/login"><mat-icon>login</mat-icon><span>Sign in</span></a>
</ng-container>
<ng-container *ngIf="auth.isLoggedIn()">
<a *ngIf="role === 'ADMIN'" mat-button class="nav-link-item" routerLink="/dashboard"><mat-icon>dashboard</mat-icon><span>Dashboard</span></a>
<a mat-button class="nav-link-item" routerLink="/notifications"><mat-icon>notifications</mat-icon><span>Notifications</span></a>
<button mat-button class="profile-menu-button" [matMenuTriggerFor]="profileMenu">
<img [src]="avatarUrl" alt="Profile" class="profile-pic-nav" />
<mat-icon class="profile-dropdown-icon">arrow_drop_down</mat-icon>
</button>
</ng-container>
</nav>


<button mat-icon-button class="search-button-mobile" *ngIf="isMobile" (click)="toggleMobileSearch()"><mat-icon>search</mat-icon></button>
<button mat-icon-button class="menu-button" *ngIf="isMobile" [matMenuTriggerFor]="menu"><mat-icon>menu</mat-icon></button>


<mat-menu #menu="matMenu">
<button mat-menu-item routerLink="/home"><mat-icon>home</mat-icon><span>Home</span></button>
<ng-container *ngIf="!auth.isLoggedIn()"><button mat-menu-item routerLink="/login"><mat-icon>login</mat-icon><span>Sign in</span></button></ng-container>
<ng-container *ngIf="auth.isLoggedIn()">
<button *ngIf="role === 'ADMIN'" mat-menu-item routerLink="/dashboard"><mat-icon>dashboard</mat-icon><span>Dashboard</span></button>
<button mat-menu-item routerLink="/notifications"><mat-icon>notifications</mat-icon><span>Notifications</span></button>
<button mat-menu-item (click)="logout()"><mat-icon>logout</mat-icon><span>Logout</span></button>
<button mat-menu-item routerLink="/profile/{{ currentUserId }}"><mat-icon>person</mat-icon><span>Profile</span></button>
</ng-container>
</mat-menu>


<mat-menu #profileMenu="matMenu" class="profile-dropdown">
<button mat-menu-item routerLink="/profile/{{ currentUserId }}"><mat-icon>person</mat-icon><span>Profile</span></button>
<mat-divider></mat-divider>
<button mat-menu-item (click)="logout()"><mat-icon>logout</mat-icon><span>Logout</span></button>
</mat-menu>
</mat-toolbar>


<div class="mobile-search-bar" *ngIf="isMobile && mobileSearchActive">
<mat-form-field class="search-form-field-mobile" appearance="outline">
<mat-icon matPrefix>search</mat-icon>
<input type="text" placeholder="Search users..." aria-label="Search users" matInput [(ngModel)]="userSearchTerm" (ngModelChange)="search(userSearchTerm)" [matAutocomplete]="autoMobile" />
<button mat-icon-button matSuffix (click)="toggleMobileSearch()"><mat-icon>close</mat-icon></button>
<mat-autocomplete #autoMobile="matAutocomplete">
<mat-option *ngFor="let user of filteredUsers" [value]="user.username" (click)="onUserSelected(user)">
<div class="user-suggestion">
<img [src]="user.avatar || 'default-avatar.png'" class="user-avatar-suggestion" />
<div class="user-info-suggestion">
<span class="username-suggestion">{{ user.username }}</span>
<span class="user-status-suggestion">View Profile</span>
</div>
</div>
</mat-option>
</mat-autocomplete>
</mat-form-field>
</div>