<div class="home-container">

  <!-- CENTER: Comments Feed & Form -->
  <div class="posts-panel" #scrollContainer (scroll)="onScroll($event)">

    <!-- üîô Back Button -->
    <div class="back-button-container" *ngIf="postId">
      <a [routerLink]="['/posts',postId]" class="back-button">
        ‚Üê Back to Post
      </a>
    </div>

    <!-- Comment Form -->
    <div class="post-form">
      <textarea class="content-input" placeholder="Write a comment..." [(ngModel)]="newComment"></textarea>
      <div class="form-actions">
        <button class="publish-btn" (click)="addComment()">Publish</button>
      </div>
    </div>

    <!-- Comments Feed -->
    <div class="posts-feed">
      <div class="post-card" *ngFor="let comment of comments">
        <div class="post-header">
          <div class="author-info">
            <img class="avatar" [src]="comment.user.avatar || 'assets/default-avatar.png'" alt="avatar">
            <span class="author-name">{{ comment.user.username }}</span>
          </div>
          <small>{{ comment.createdAt | timeAgo }}</small>
        </div>
        <div class="post-body">
          <div class="post-text">
            <p class="post-content">{{ comment.content }}</p>
          </div>
        </div>
      </div>

      <!-- No comments -->
      <div *ngIf="comments.length === 0" class="no-posts">
        <p>No comments yet.</p>
      </div>
    </div>
  </div>
</div>
